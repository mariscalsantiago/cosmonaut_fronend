<div class="row margen">
  <div class="col titulo-outlet">
      <label >CONFIGURACIÓN DE COMPAÑÍA</label>
  </div>
</div>


<hr>


<form [formGroup]="myFormcomp" (ngSubmit)="enviarPeticioncomp()">

  <input type="hidden" formControlName="centrocClienteId">

  <div  class="background-panel margen" >
      <div class="form-group row margen">
        <label class="titulo">INFORMACIÓN DE COMPAÑÍA</label></div>
      <div class="form-group row margen">
      
          <div class=" input-group-sm mb-3 col-4 ">
              <label >Nombre de la compañía *</label>
              <input formControlName="nombre" type="text" class="form-control" [ngClass]="{'is-invalid':f.nombre.errors && f.nombre.touched}"  placeholder="">
              <div *ngIf="f.nombre.errors && f.nombre.touched" class="invalid-feedback">
                  Favor de ingresar el Nombre de la compañía.
                </div>         
  
          </div>
          <div class=" input-group-sm mb-3 col-4 ">
              <label>Razón social *</label>
              <input formControlName="razonSocial" type="text" class="form-control" [ngClass]="{'is-invalid':f.razonSocial.errors && f.razonSocial.touched}"  placeholder="">
              <div *ngIf="f.razonSocial.errors && f.razonSocial.touched" class="invalid-feedback">
                  Favor de ingresar la Razón social.
                </div>
  
          </div>
          <div class=" input-group-sm mb-3 col-4 ">
              <label>RFC *</label>
              <input formControlName="rfc" maxlength="13" type="text" class="form-control" [ngClass]="{'is-invalid':f.rfc.errors && f.rfc.touched}" >
              <div *ngIf="f.rfc.errors?.required && f.rfc.touched" class="invalid-feedback">
                Favor de ingresar el RFC(12 o 13 caracteres).
              </div>
              <div *ngIf="f.rfc.errors?.pattern && f.rfc.touched" class="invalid-feedback">
                Formato de RFC invalido, favor de verificar.
              </div>
                
          </div>
          
          <div class=" input-group-sm mb-3 col-4">
            <label >Correo corporativo *</label>
            <input formControlName="emailCorp" type="email" class="form-control" [ngClass]="{'is-invalid':f.emailCorp.errors && f.emailCorp.touched}"
                placeholder="">
                <div *ngIf="f.emailCorp.errors?.required && f.emailCorp.touched" class="invalid-feedback">
                    Favor de ingresar el Correo Corporativo.
                  </div>
                  <div *ngIf="f.emailCorp.errors?.email && f.emailCorp.touched" class="invalid-feedback">
                    Formato de correo Corporativo inválido, favor de verificar.
                  </div>

        </div>
         <div class=" input-group-sm mb-3 col-4">
          <label >Fecha de registro*</label>
          <input formControlName="fechaAlta" type="date" class="form-control" 
              placeholder="">

        </div>


        <div class="input-group-sm mb-4 col-4">
          <label for="exampleFormControlSelect1">Estado*</label>
          <select formControlName="esActivo" class="form-control">
            <option value="true" selected>ACTIVO</option>
            <option value="false">INACTIVO</option>
          </select>
      </div>
      
      </div>
 
  </div>
  <div *ngIf="compania" class="text-center margin" style="margin-bottom: 20px;">
    <button type="button" class="btn btn-primary button-outlet mr-3" style="color:red" (click)="cancelarcomp()" >Cancelar</button>
    <button [disabled]="!myFormcomp.valid" type="submit" class="btn btn-primary button-fill agrandarloading">Guardar</button>
</div> 

</form>

<app-alert-questions *ngIf="modal" [titulo]="strTitulo" [iconType]="iconType" [subtitulo]="strsubtitulo"   (eventoFunciones)="recibir($event)" ></app-alert-questions>


<form >
<div *ngIf="listcontacto"  class="row margen margen-tabla background-panel scrooll">   
  <div class="background-panel margen" >
    <br>
      <div class="form-group row margen">
        <label class="titulo">LISTA DE CONTACTOS</label></div>
      <div class="form-group row margen">

    <div *ngIf="multiseleccion" class="form-check ml-4 mt-4">
      <input type="checkbox" class="form-check-input" id="exampleCheck1">
      <label class="form-check-label" for="exampleCheck1">Seleccionar todos</label>
    </div>
    <div *ngIf="!multiseleccion" class="row" style="  margin-top: 10px;  width: 100%;">
      <div class="col text-right">
        <button type="button" class="btn btn-light button-outlet" (click)="verdetallecont(undefined)">
          <i class="fa fa-plus"></i>Agregar contacto
        </button>
      </div>
    </div>
    <div  class="row margen" style="margin-bottom: -25px;">
      <div class="input-group mb-5">
        <div class="input-group-prepend">
          <label class="input-group-text" for="inputGroupSelect01">Elementos</label>
        </div>
        <select class="custom-select" id="inputGroupSelect01">
          <option value="1" selected>20</option>
          <option value="2">50</option>
          <option value="3">100</option>
        </select>
       
      </div>
    </div>
      <table *ngIf="!cargando" class="table table-hover">
          <thead>
            <tr>
              <th scope="col"> <span *ngIf="multiseleccion">Activo</span> </th>
              <th scope="col">ID Contacto</th>
              <th scope="col">Nombre contacto</th>
              <th scope="col">Correo corporativo</th>
              <th scope="col">Teléfono</th>
              <th scope="col">Fecha registro</th>
              <th scope="col">Estatus</th>
              <th scope="col" *ngIf="!multiseleccion">Acciones</th>
            </tr>
          </thead>
          <tbody>
            <tr (dblclick)="activarMultiseleccion()" *ngFor="let item of arreglo;">
              <th scope="row"><i *ngIf="!multiseleccion" class="icon_perfil"></i> <input *ngIf="multiseleccion"
                  type="checkbox" name="inlineRadioOptions" id="radio1" value="option1"> </th>
              <td style="color:  #00DED4">{{item.personaId}} </td>
              <td>{{item.nombre}}</td>
              <td>{{item.emailCorp}}</td>
              <td>{{item.ciTelefono}}</td>
              <td>{{item.fechaAlta}}</td>
              <td>{{(item.esActivo)?'Activo':'Inactivo'}}</td>
              <td *ngIf="!multiseleccion">
                <button (click)="verdetallecont(item)" class="btnPersonalizado">
                  <i class="icon_editar text-center bg-light" ></i></button>
            </td>
            </tr>
         
          </tbody>
        </table>
        <div *ngIf="!cargando" class="row" style="width: 100%;">
          <div class="col" > 
           <nav aria-label="Page navigation example">
             <ul class="pagination justify-content-center">
               <li class="page-item disabled">
                 <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Antes</a>
               </li>
               <li class="page-item"><a class="page-link" >1</a></li>
               <li class="page-item"><a class="page-link" >2</a></li>
               <li class="page-item"><a class="page-link" >3</a></li>
               <li class="page-item">
                 <a class="page-link">Siguiente</a>
               </li>
             </ul>
           </nav></div>
        </div>

      <div *ngIf="cargando" class="col text-center mb-5">
        <img width="60px" height="60px" src="../../../../../assets/imgs/loading_nomina.gif" alt="">
      </div>
  </div>
  </div>
</div>
<div class="row">

  <div *ngIf="multiseleccion" class="row text-center margin botonmultiseleccion" style="margin-bottom: 20px;">
    <button type="button" class="btn btn-primary button-outlet mr-3" style="color:red" (click)="cancelarMulti()" *ngIf="!multiseleccionloading">Cancelar</button>
    <button (click)="guardarMultiseleccion()" type="button" class="btn btn-primary button-fill agrandarloading"><span *ngIf="!multiseleccionloading">Guardar</span>
    
        <div *ngIf="multiseleccionloading"  role="status">
            <span class="spinner-border"></span>
          </div>
    </button>
  </div>
    
</div>
</form>
<div>

  <div class="row margen">
    <div class="col titulo-outlet">
      <label>LISTA DE USUARIOS</label>
    </div>
  </div>



  <div class="margen">
    <div id="accordionFiltro">

      <div id="accordion">
        <div class="card">
          <div class="card-header" id="headingOne">
            <h5 class="mb-0">
              <button *ngIf="tamanio < 600" (click)="changeIconDown = !changeIconDown" style="width: 100%;" class="btn btn-link aparece-movil" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                <label class="titulo" style="    width: 80%;
                float: left;
                text-align: left;">BÚSQUEDA</label>
                <i *ngIf="changeIconDown"  data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne" style="width: 10%;float: right;color:#00C1AF" class="fas fa-chevron-up "></i>
                <i *ngIf="!changeIconDown"  data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne" style="width: 10%;float: right;color:#00C1AF" class="fas fa-chevron-down "></i>
                
              </button>
              <button *ngIf="tamanio >=600" class="btn btn-link aparece-desktop-inline-block" >
                <label class="titulo">BÚSQUEDA</label>
              </button>
              
            </h5>
          </div>
      
          <div id="collapseOne" class="collapse" [ngClass]="{'show':tamanio >600}" aria-labelledby="headingOne" data-parent="#accordion">
            <div class="card-body">
              <div class="form group row margen">
                <div class=" input-group-sm mb-3 col-12 col-sm-6 col-lg-4 col-xl-3">
                  <input type="number" [(ngModel)]="idUsuario" class="form-control" placeholder="Id usuario">
                </div>
                <div class=" input-group-sm mb-3 col-12 col-sm-6 col-lg-4 col-xl-3">
                  <input type="text" [(ngModel)]="nombre" class="form-control" placeholder="Nombre">
                </div>
                <div class=" input-group-sm mb-3 col-12 col-sm-6 col-lg-4 col-xl-3">
                  <input type="text" [(ngModel)]="apellidoPat" class="form-control" placeholder="Apellido Paterno">
                </div>
                <div class=" input-group-sm mb-3 col-12 col-sm-6 col-lg-4 col-xl-3 ">
                  <input type="text" [(ngModel)]="apellidoMat" class="form-control" placeholder="Apellido Materno">
                </div>
                <div class=" input-group-sm mb-3 col-12 col-sm-6 col-lg-4 col-xl-3">
                  <input type="Date" [(ngModel)]="fechaRegistro" class="form-control" placeholder="Fecha de registro">
                </div>
                <div class=" input-group-sm mb-3 col-12 col-sm-6 col-lg-4 col-xl-3">
                  <select name="" id="" class="form-control" [(ngModel)]="id_company">
                    <option value="0" selected>Seleccionar compañia</option>
                    <option *ngFor="let item of arregloCompany" [value]="item.centrocClienteId">{{item.nombre}}</option>
                  </select>
                </div>
                <div class=" input-group-sm mb-3 col-12 col-sm-6 col-lg-4 col-xl-3">
                  <input type="email" [(ngModel)]="correoempresarial" class="form-control" placeholder="Correo Empresarial">
                </div>
                <div class=" input-group-sm mb-3 col-12 col-sm-12 col-lg-4 col-xl-3">
                  <select class="form-control" [(ngModel)]="activo">
          
                    <option value="0" selected>Ambos</option>
                    <option value="1">Activo</option>
                    <option value="2">Inactivo</option>
          
                  </select>
                </div>
                <div class=" input-group-sm mb-3 text-center col-12 col-sm-2 ">
                  <button type="button" class="btn btn-primary button-outlet " (click)="filtrar()">FILTRAR</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>

  </div>

  <div class="row margen">
    <div class="col titulo">
      <label>RESULTADOS</label>
    </div>
    <div *ngIf="!multiseleccion" class="col text-right">
      <button type="button" class="btn btn-light button-outlet" (click)="verdetalle(undefined)">
        <i class="fa fa-plus"></i>Agregar
      </button>
    </div>
  </div>
  <div class="row margen margen-tabla background-panel scrooll">
    <div *ngIf="multiseleccion" class="form-check ml-4 mt-4">
      <input (change)="seleccionarTodosBool(valor)" #valor type="checkbox" class="form-check-input" id="exampleCheck1">
      <label class="form-check-label" for="exampleCheck1">Seleccionar todos</label>
    </div>

    <div *ngIf="!cargando && arreglo !== undefined && !multiseleccion" class="row margen mt-3" style="margin-bottom: -25px;">
      <div class="input-group mb-3">
        <div class="input-group-prepend">
          <label class="input-group-text" for="inputGroupSelect01">Elementos</label>
        </div>
        <select [(ngModel)]="numeroitems" class="custom-select" id="inputGroupSelect01" (change)="cambia()">
          <option value="5" selected>5</option>
          <option value="20" selected>20</option>
          <option value="50">50</option>
          <option value="100">100</option>
        </select>
       
      </div>
    </div>
    
    <table  *ngIf="!cargando && arreglo !== undefined"  class="table table-hover">
      <thead>
        <tr>
          <th scope="col"> <span *ngIf="multiseleccion">Activo</span> </th>
          <th scope="col">ID</th>
          <th scope="col">Nombre</th>
          <th scope="col" *ngIf="tamanio >=600">Apellido Paterno</th>
          <th scope="col" *ngIf="tamanio >=600">Apellido Materno</th>
          <th scope="col" *ngIf="tamanio >=600">Centro de costos</th>
          <th scope="col" *ngIf="tamanio >=600">Correo Empresarial</th>
          <th scope="col" *ngIf="tamanio >=600">Fecha de registro</th>
          <th scope="col" *ngIf="tamanio >=600">Activo</th>
          <th scope="col " *ngIf="!multiseleccion">Opciones</th>
        </tr>
      </thead>
      <tbody>
        <tr  *ngFor="let item of arreglo;">
          <th scope="row"><input type="checkbox" name="inlineRadioOptions" id="radio1" value="option1" [(ngModel)]="item.esActivo"> </th>
          <td style="color:  #00DED4">{{item.personaId}} </td>
          <td>{{item.nombre}} </td>
          <td *ngIf="tamanio >=600">{{item.apellidoPat}}</td>
          <td *ngIf="tamanio >=600">{{item.apellidoMat }}</td>
          <td *ngIf="tamanio >=600">{{item.centrocClienteId.nombre}}</td>
          <td *ngIf="tamanio >=600">{{item.emailCorp}}</td>
          <td *ngIf="tamanio >=600">{{item.fechaAlta }}</td>
          <td *ngIf="tamanio >=600">{{(item.esActivo)?'Activo':'Inactivo'}}</td>
          <td *ngIf="!multiseleccion" class="opciones">
            <button ><i class="icon_ver primary-bg"></i></button>
            <button (click)="verdetalle(item)" ><i class="icon_editar primary-bg"></i></button>
          </td>
        </tr>



      </tbody>
    </table>
    <div *ngIf="!cargando && arreglo === undefined"   class="alert alert-warning col text-center">
      <strong>Sin usuarios</strong> La tabla de usuario esta vacía.
    </div>
   <div  *ngIf="!cargando && arreglo !== undefined && !multiseleccion" class="row" style="width: 100%;">
     <div class="col" > 
      <nav aria-label="Page navigation example">
        <ul class="pagination justify-content-center">
          <li class="page-item disabled">
            <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Antes</a>
          </li>
          <li class="page-item " [ngClass]="{'active':item.activado}" *ngFor="let item of arreglopaginas" (click)="paginacambiar(item)"><a class="page-link" >{{item.mostrar}}</a></li>
          <li class="page-item disabled">
            <a class="page-link">Siguiente</a>
          </li>
        </ul>
      </nav></div>
   </div>
   
   
    <div *ngIf="cargando" class="col text-center mb-5">
      <img width="60px" height="60px" src="../../../../../assets/imgs/loading_nomina.gif" alt="">
    </div>
  </div>


  <div *ngIf="multiseleccion" class="row text-center margin botonmultiseleccion" style="margin-bottom: 20px;">
      <div class="col-12">
        <button type="button" class="btn btn-primary button-outlet mr-2" style="color:red" (click)="cancelarMulti()"
        *ngIf="!multiseleccionloading">Cancelar</button>
      <button (click)="guardarMultiseleccion()" type="button" class="btn heartbeathand btn-primary button-fill agrandarloading"><span
          *ngIf="!multiseleccionloading">Guardar</span>
  
        <div *ngIf="multiseleccionloading" role="status">
          <span class="spinner-border"></span>
        </div>
      </button>  
      </div>
  </div>



</div>